<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>UTP - JUDGE</title>
    <script src="https://fb.me/react-0.14.6.js"></script>
    <script src="https://fb.me/react-dom-0.14.6.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
    <script src="../bootstrap/js/jquery-2.1.4.min.js"></script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <script src="./data.js"></script>
    <style>
     .dropdown:hover .dropdown-menu {
       display: block;
     }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-sm-12">&nbsp;</div>
        <div class="col-sm-1"></div>
        <div id="idMenu"></div>
      </div>
    </div>

    <script type="text/babel">
      class ButtonComponent extends React.Component {
        constructor(props) {
          super(props);
          this.state = {
            name: this.props.name,
            values: this.props.values
          };
        }

        render() {
          if (this.state.values.length == 0) {
            return <li><a href="#">{this.state.name}</a></li>;
          }
          else {
            var listOptions = this.state.values.map((item) => {
              return <li><a href={item.url}>{item.name}</a></li>
            });
            return (
              <li className="dropdown">
                <a href="#" className="dropdown-toggle" data-toggle="dropdown">
                  {this.state.name}
                  <span className="caret"></span>
                </a>
                <ul className="dropdown-menu">{listOptions}</ul>
              </li>
            );
          }
        }
      }

      class MenuComponent extends React.Component{
        constructor(props) {
          super(props);
          this.state = {
            option: this.props.option
          };
        }

        render() {
          var tmp = this.state.option.map((item) => {
            return <ButtonComponent name={item.name} values={item.values}/>;
          });
          return (
            <div className="col-sm-10">
              <ul className="nav nav-pills navbar-inverse">
                {tmp}
                <li className="pull-right"><a href="#">Login</a></li>
                <li className="pull-right"><a href="#">Registrarse</a></li>f
                <li>
                  <form action="" className="navbar-form" role="search">
                    <input type="text" className="form-control" placeholder="Search"/>
                  </form>
                </li>
              </ul>
            </div>);
        }
      }

      ReactDOM.render(<MenuComponent option = {opt}/>, document.getElementById('idMenu'));
    </script>
  </body>
</html>
