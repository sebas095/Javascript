<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Estados</title>
    <script src="https://fb.me/react-0.14.6.js"></script>
    <script src="https://fb.me/react-dom-0.14.6.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  </head>
  <body>
    <div class="container">
      <div>&nbsp;</div>
      <div id="formulario"></div>
    </div>
    <script type="text/babel">
      var ComponenteFormulario = React.createClass({
        getInitialState: function() {
          return {
            placeHolderNombre: this.props.placeHolderNombre,
            txtEtiqueta: this.props.txtEtiqueta,
            txtSaludo: this.props.txtSaludo
          };
        },

        update: function(event) {
          // con event se accede solo a la variable que tuvo el cambio
          // var valorNombre = event.target.value;
          var valorNombre = this.refs.refNombre.getDOMNode().value;
          this.setState({txtSaludo: "Hola " + valorNombre});
        },

        render: function() {
          return React.DOM.div({
            className: 'form-group',
            children: [
              React.DOM.label({
                htmlFor: 'exampleInputEmail',
                children: this.state.txtEtiqueta
              }),
              React.DOM.input({
                type: "text",
                className: "form-control",
                name: "txtNombre",
                placeholder: this.state.placeHolderNombre,
                ref: "refNombre",
                onChange: this.update
              }),
              (<div ref="SalidaSaludo">{this.state.txtSaludo}</div>)
            ]
          });
        }
      });

    ReactDOM.render(
      <ComponenteFormulario placeHolderNombre="nombre" txtEtiqueta="Escribe t&uacute; nombre completo:" txtSaludo="Hola:"/>,
      document.getElementById('formulario')
    );
   </script>
  </body>
</html>
