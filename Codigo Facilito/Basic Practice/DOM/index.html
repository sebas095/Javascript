<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Crear y Agregar Nodos</title>
  </head>
  <body>
    <div class="close"></div>
    <form id="form">
      <input type="email" placeholder="Correo" name="mails[]"></input>
    </form>
    <button id="btn">Agregar m√°s correos</button>
    <script>
      bind_close();

      $("#btn").addEventListener("click", function() {
        var input = document.createElement("input");
        input.setAttribute("type", "email");
        input.setAttribute("placeholder", "Correo");
        input.setAttribute("name", "mails[]");

        $("#form").appendChild(input);
        my_alert("Se agrego un nuevo campo.");
      });

      function bind_close() {
        var elements = document.querySelectorAll(".close");
        for (var i = 0; i < elements.length; i++) {
          var el = elements[i];
          el.addEventListener("click", function() {
            this.parentNode.style.display = "none";
          });
        }
      }

      function my_alert(msj) {
        var div = document.createElement("div");
        div.innerHTML = msj;

        var close = document.createElement("div");
        close.style.float = "right";
        close.innerHTML = "X";
        close.setAttribute("class", "close");
        div.appendChild(close);

        div.setAttribute("class", "alert");
        $("body").insertBefore(div, $("body").firstChild);

        bind_close();
      }

      function $(selector) {
        return document.querySelector(selector);
      }
    </script>
  </body>
</html>
